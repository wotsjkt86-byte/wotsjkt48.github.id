<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Wotsnite48 Live</title>
  <style>
    body { margin:0; font-family:Arial; background:#000; color:#fff; }
    header { padding:15px 20px; display:flex; justify-content:space-between; background:#111; }
    nav a { color:#ccc; margin-left:15px; text-decoration:none; }
    nav a:hover { color:#fff; }
    section { max-width:900px; margin:auto; padding:30px 20px; }
    iframe { width:100%; aspect-ratio:16/9; border-radius:14px; border:none; }
    .btn { padding:10px 20px; border:none; border-radius:20px; cursor:pointer; background:red; color:#fff; }
    .box { background:#111; padding:20px; border-radius:14px; margin-bottom:20px; }
    input { width:100%; padding:10px; margin:8px 0; border-radius:10px; border:none; }
    footer { text-align:center; color:#777; padding:20px; }
  </style>
</head>
<body>

<header>
  <div style="display:flex;align-items:center;gap:10px;">
    <img id="siteLogo" src="" alt="Logo" style="height:40px;border-radius:8px;display:none;" />
    <b>Wotsnite48 Live</b>
  </div>
  <nav>
    <a href="#login">Login</a>
  </nav>
</header>

<!-- LOGIN / REGISTER (HALAMAN AWAL) -->
<section id="login">
  <h2>Login</h2>
  <div class="box">
    <input id="username" placeholder="Username / Email" />
    <input id="password" type="password" placeholder="Password" />
    <button class="btn" onclick="login()">Login</button>
    <p id="status"></p>
    <p style="margin-top:10px;">Belum punya akun? <a href="#" onclick="showRegister()" style="color:#4da6ff;">Daftar di sini</a></p>
  </div>
</section>

<section id="register" style="display:none;">
  <h2>Daftar Akun</h2>
  <div class="box">
    <input id="regName" placeholder="Nama Lengkap" />
    <input id="regPhone" placeholder="Nomor HP" />
    <input id="regEmail" placeholder="Email" />
    <input id="regPassword" type="password" placeholder="Password" />
    <button class="btn" onclick="registerUser()">Daftar</button>
    <p style="margin-top:10px;"><a href="#" onclick="showLogin()" style="color:#4da6ff;">Kembali ke Login</a></p>
  </div>
</section>

<!-- AREA SETELAH LOGIN -->
<div id="afterLogin" style="display:none;">

<!-- MEMBER LIVE -->
<section id="member">
  <h2>üîí Live Streaming Member</h2>
  <div class="box">
    <iframe id="memberStream"></iframe>
  </div>
</section>

<!-- THEATER LIVE -->
<section id="theater">
  <h2>üé≠ Live Streaming Theater</h2>
  <div class="box">
    <iframe id="theaterStream"></iframe>
  </div>
</section>

<!-- LIVE CHAT -->
<section id="chat">
  <h2>üí¨ Live Chat</h2>
  <div class="box">
    <iframe id="chatFrame" style="height:400px;"></iframe>
  </div>
</section>

<!-- ADMIN -->
<section id="admin">
  <h2>‚öôÔ∏è Admin ‚Äì Ubah Live, Logo & Chat</h2>
  <div class="box">
    <label>Upload Logo Website</label>
    <input type="file" accept="image/*" onchange="uploadLogo(event)" />

    <label>Link Live Member (Embed)</label>
    <input id="memberLink" />

    <label>Link Live Theater (Embed)</label>
    <input id="theaterLink" />

    <label>Link Live Chat</label>
    <input id="chatLink" />

    <label>Nomor WhatsApp</label>
    <input id="waNumber" />

    <button class="btn" onclick="saveLinks()">Simpan</button>
  </div>
</section>

</div>

<!-- LIVE CHAT -->
<section id="chat">
  <h2>üí¨ Live Chat</h2>
  <div class="box">
    <iframe id="chatFrame" style="height:400px;"></iframe>
  </div>
</section>

<!-- ADMIN CONTROL -->
<section id="admin">
  <h2>‚öôÔ∏è Admin ‚Äì Ubah Live, Logo & Chat</h2>
  <div class="box">
    <label>Upload Logo Website</label>
    <input type="file" accept="image/*" onchange="uploadLogo(event)" />

    <label>Link Live Member (Embed)</label>
    <input id="memberLink" placeholder="https://www.youtube.com/embed/..." />

    <label>Link Live Theater (Embed)</label>
    <input id="theaterLink" placeholder="https://www.youtube.com/embed/..." />

    <label>Link Live Chat (YouTube / Custom)</label>
    <input id="chatLink" placeholder="https://www.youtube.com/live_chat?v=VIDEO_ID&embed_domain=domain.com" />

    <label>Nomor WhatsApp (format 628xxxx)</label>
    <input id="waNumber" placeholder="628xxxxxxxx" />

    <button class="btn" onclick="saveLinks()">Simpan Semua</button>
  </div>
</section>

<footer>
  ¬© 2025 Wotsnite48 Live
  <a id="waBtn" href="#" target="_blank" style="display:block;margin-top:10px;color:#25D366;">üí¨ Chat WhatsApp</a>
</footer>

<script>
  function showRegister(){
    document.getElementById('login').style.display='none';
    document.getElementById('register').style.display='block';
  }

  function showLogin(){
    document.getElementById('register').style.display='none';
    document.getElementById('login').style.display='block';
  }

  function registerUser(){
    const data={
      name:regName.value,
      phone:regPhone.value,
      email:regEmail.value,
      password:regPassword.value
    };
    if(data.name && data.phone && data.email && data.password){
      localStorage.setItem('userData', JSON.stringify(data));
      alert('Pendaftaran berhasil, silakan login');
      showLogin();
    } else {
      alert('Lengkapi semua data');
    }
  }

  function login(){
    const saved = JSON.parse(localStorage.getItem('userData')||'{}');
    if((username.value===saved.email || username.value===saved.name) && password.value===saved.password){
      localStorage.setItem('login','yes');
      login.style.display='none';
      register.style.display='none';
      afterLogin.style.display='block';
      loadAll();
      loadLogo();
    } else {
      status.innerText='Login gagal';
    }
  }

  function saveLinks(){
    localStorage.setItem('memberStream', memberLink.value);
    localStorage.setItem('theaterStream', theaterLink.value);
    localStorage.setItem('chatLink', chatLink.value);
    localStorage.setItem('waNumber', waNumber.value);
    loadAll();
    alert('Berhasil disimpan');
  }

  function loadAll(){
    memberStream.src = localStorage.getItem('memberStream')||'';
    theaterStream.src = localStorage.getItem('theaterStream')||'';
    chatFrame.src = localStorage.getItem('chatLink')||'';
    const wa = localStorage.getItem('waNumber');
    if(wa) waBtn.href='https://wa.me/'+wa;
  }

  function uploadLogo(e){
    const r=new FileReader();
    r.onload=()=>{localStorage.setItem('siteLogo',r.result);loadLogo();};
    r.readAsDataURL(e.target.files[0]);
  }

  function loadLogo(){
    const l=localStorage.getItem('siteLogo');
    if(l){siteLogo.src=l;siteLogo.style.display='block';}
  }

  if(localStorage.getItem('login')==='yes'){
    document.getElementById('login').style.display='none';
    document.getElementById('afterLogin').style.display='block';
    loadAll();
    loadLogo();
  }
</script>
</body>
</html>
